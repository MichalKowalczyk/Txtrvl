/*! For license information please see Txtrvl-Txtrvl-stories.ef085dbd.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunktxtrvl=self.webpackChunktxtrvl||[]).push([[411],{"./src/Txtrvl/Txtrvl.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Txtrvl_stories});var injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),Txtrvl=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/Txtrvl/Txtrvl.scss"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(Txtrvl.Z,options);Txtrvl.Z&&Txtrvl.Z.locals&&Txtrvl.Z.locals;var react=__webpack_require__("./node_modules/react/index.js");const useIntersectionObserver=(props,targetRef)=>{const{offsetY=0,resetPolicy="bothReset",delay=0,threshold=.5,disabled=!1}=props,[isIntersecting,setIntersecting]=(0,react.useState)(!1);return(0,react.useEffect)((()=>{const handleVisibleChange=isVisible=>{setIntersecting(isVisible)},observer=new IntersectionObserver((_ref=>{let[entry]=_ref,isVisible=entry.isIntersecting;"no-reset"===resetPolicy?entry.intersectionRatio>0&&setTimeout((()=>handleVisibleChange(!0)),delay):"above"===resetPolicy?window.scrollY<=(targetRef.current?.offsetTop??0)&&setTimeout((()=>handleVisibleChange(isVisible)),delay):setTimeout((()=>handleVisibleChange(isVisible)),delay)}),{root:null,rootMargin:`${offsetY}px`,threshold});return targetRef?.current&&!0!==disabled?observer.observe(targetRef.current):targetRef?.current&&disabled&&(observer.unobserve(targetRef.current),handleVisibleChange(!1)),()=>{targetRef.current&&observer.unobserve(targetRef.current)}}),[offsetY,resetPolicy,delay,targetRef,disabled]),!disabled&&isIntersecting},tools_useIntersectionObserver=useIntersectionObserver;try{useIntersectionObserver.displayName="useIntersectionObserver",useIntersectionObserver.__docgenInfo={description:"",displayName:"useIntersectionObserver",props:{onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((isVisible: boolean) => void)"}},offsetY:{defaultValue:null,description:"",name:"offsetY",required:!1,type:{name:"number"}},resetPolicy:{defaultValue:null,description:"",name:"resetPolicy",required:!1,type:{name:"enum",value:[{value:'"no-reset"'},{value:'"above"'},{value:'"both"'}]}},delay:{defaultValue:null,description:"",name:"delay",required:!1,type:{name:"number"}},threshold:{defaultValue:null,description:"",name:"threshold",required:!1,type:{name:"number"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/tools/useIntersectionObserver.tsx#useIntersectionObserver"]={docgenInfo:useIntersectionObserver.__docgenInfo,name:"useIntersectionObserver",path:"src/tools/useIntersectionObserver.tsx#useIntersectionObserver"})}catch(__react_docgen_typescript_loader_error){}const getTextWidth=(text,font)=>{let canvas=getTextWidth.canvas||(getTextWidth.canvas=document.createElement("canvas"));canvas.setAttribute("class","textWidth");let context=canvas.getContext("2d");return context.font=font,context.measureText(text).width},convertToTrailsBlocks=(ref,text)=>{let el=ref.current;if(null===el)return[];let styleWindow=window,maxWidth=Number(styleWindow.getComputedStyle(el,null).getPropertyValue("width").slice(0,-2)),fontSize=styleWindow.getComputedStyle(el,null).getPropertyValue("font-size"),fontFamily=styleWindow.getComputedStyle(el,null).getPropertyValue("font-family"),fullFont=`${styleWindow.getComputedStyle(el,null).getPropertyValue("font-weight")} ${fontSize} ${fontFamily}`,textReplace=text,lettersToReplace=["a","i","o","u","w","z","A","I","O","U","W","Z","&"],arrayLength=lettersToReplace.length;for(let i=0;i<arrayLength;i++){let textSplit=textReplace.split(" "+lettersToReplace[i]+" ");textReplace=textSplit.join(" "+lettersToReplace[i]+"|")}let arrayOfWords=textReplace.split(" "),tempText=arrayOfWords[0],tempTrails=[];for(let i=1;i<arrayOfWords.length;i++)getTextWidth(tempText+" "+arrayOfWords[i],fullFont)>=maxWidth?(tempTrails=[...tempTrails,tempText],tempText=arrayOfWords[i]):tempText=tempText+" "+arrayOfWords[i];return tempText.length>0&&(tempTrails=[...tempTrails,tempText]),tempTrails};var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const Txtrvl_Txtrvl_Txtrvl=props=>{const{text,manualTrigger,duration=1e3,delayPerRow:delay=200,className="",style,onChange,scrollTrigger={offsetY:0,disabled:!1,resetPolicy:"above",delay:0,threshold:.5}}=props,ref=(0,react.useRef)(),[trails,setTrails]=(0,react.useState)([]),[isOpen,setIsOpen]=(0,react.useState)(!1),observerIsVisible=tools_useIntersectionObserver({disabled:scrollTrigger.disabled,onChange,threshold:scrollTrigger.threshold,offsetY:scrollTrigger.offsetY,delay:scrollTrigger.delay,resetPolicy:scrollTrigger.resetPolicy},ref);let interval;(0,react.useEffect)((()=>(void 0!==interval&&clearInterval(interval),setIsOpen(!1),ref&&(setTrails(convertToTrailsBlocks(ref,text)),setIsOpen(!0),interval=setInterval((()=>{setTrails(convertToTrailsBlocks(ref,text)),setIsOpen(!0)}),delay)),()=>{void 0!==interval&&clearInterval(interval)})),[text]);const isRevealed=(isOpen,observerIsVisible,manualTrigger,scrollTrigger)=>scrollTrigger?.disabled&&manualTrigger?isOpen&&manualTrigger.isVisible:scrollTrigger&&!scrollTrigger.disabled&&manualTrigger?isOpen&&(observerIsVisible||manualTrigger?.isVisible):!(!scrollTrigger||scrollTrigger.disabled)&&(isOpen&&observerIsVisible);return(0,jsx_runtime.jsx)("div",{ref,className:`trailsWrapper ${className}`,style,children:trails?trails.map(((trail,index)=>(0,jsx_runtime.jsx)("span",{className:"tailWrapper "+(isRevealed(isOpen,observerIsVisible,manualTrigger,scrollTrigger)?"isOpen":""),style:{transitionDelay:(isRevealed(isOpen,observerIsVisible,manualTrigger,scrollTrigger)?delay*index:0)+"ms",transitionDuration:duration+"ms"},children:(0,jsx_runtime.jsx)("span",{className:"tail",style:{transitionDelay:delay*index+"ms",transitionDuration:duration+"ms"},children:" "+trail.replace("|"," ").replace("|"," ")+" "})},index))):null})};Txtrvl_Txtrvl_Txtrvl.displayName="Txtrvl";const src_Txtrvl_Txtrvl=Txtrvl_Txtrvl_Txtrvl;try{Txtrvl_Txtrvl_Txtrvl.displayName="Txtrvl",Txtrvl_Txtrvl_Txtrvl.__docgenInfo={description:"",displayName:"Txtrvl",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},duration:{defaultValue:null,description:"",name:"duration",required:!1,type:{name:"number"}},delayPerRow:{defaultValue:null,description:"",name:"delayPerRow",required:!1,type:{name:"number"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((isVisible: boolean) => void)"}},scrollTrigger:{defaultValue:null,description:"",name:"scrollTrigger",required:!1,type:{name:"ScrollTriggerConfig"}},manualTrigger:{defaultValue:null,description:"",name:"manualTrigger",required:!1,type:{name:"ManualTriggerConfig"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Txtrvl/Txtrvl.tsx#Txtrvl"]={docgenInfo:Txtrvl_Txtrvl_Txtrvl.__docgenInfo,name:"Txtrvl",path:"src/Txtrvl/Txtrvl.tsx#Txtrvl"})}catch(__react_docgen_typescript_loader_error){}const Txtrvl_stories={title:"Example/Txtrvl",component:src_Txtrvl_Txtrvl,tags:["autodocs"],parameters:{layout:"centered"}},Basic={args:{text:"Lorem ipsum dolor septum"}};Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:'{\n  args: {\n    text: "Lorem ipsum dolor septum"\n  }\n}',...Basic.parameters?.docs?.source}}};const __namedExportsOrder=["Basic"]},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/Txtrvl/Txtrvl.scss":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".tailWrapper{position:relative;overflow:hidden;display:inline-block;opacity:0;transform:translateY(-48px);width:100%}.tailWrapper .tail{display:inline-block;transform:translateY(110%)}.tailWrapper.isOpen{opacity:1;transform:translateY(0px)}.tailWrapper.isOpen .tail{transform:translateY(0%)}","",{version:3,sources:["webpack://./src/Txtrvl/Txtrvl.scss"],names:[],mappings:"AAAA,aACE,iBAAA,CACA,eAAA,CACA,oBAAA,CACA,SAAA,CACA,2BAAA,CACA,UAAA,CAEA,mBACE,oBAAA,CACA,0BAAA,CAGF,oBACE,SAAA,CACA,yBAAA,CAEA,0BACE,wBAAA",sourcesContent:[".tailWrapper {\r\n  position: relative;\r\n  overflow: hidden;\r\n  display: inline-block;\r\n  opacity: 0;\r\n  transform: translateY(-48px);\r\n  width: 100%;\r\n\r\n  .tail {\r\n    display: inline-block;\r\n    transform: translateY(110%);\r\n  }\r\n\r\n  &.isOpen {\r\n    opacity: 1;\r\n    transform: translateY(0px);\r\n\r\n    .tail {\r\n      transform: translateY(0%);\r\n    }\r\n  }\r\n}"],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/react/cjs/react-jsx-runtime.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{var f=__webpack_require__("./node_modules/react/index.js"),k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,g){var b,d={},e=null,h=null;for(b in void 0!==g&&(e=""+g),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(h=a.ref),a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.jsx=q},"./node_modules/react/jsx-runtime.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/react/cjs/react-jsx-runtime.production.min.js")}}]);